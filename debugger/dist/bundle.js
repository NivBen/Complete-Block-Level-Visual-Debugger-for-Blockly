!function(a){var t={};function e(l){if(t[l])return t[l].exports;var o=t[l]={i:l,l:!1,exports:{}};return a[l].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=a,e.c=t,e.d=function(a,t,l){e.o(a,t)||Object.defineProperty(a,t,{configurable:!1,enumerable:!0,get:l})},e.r=function(a){Object.defineProperty(a,"__esModule",{value:!0})},e.n=function(a){var t=a&&a.__esModule?function(){return a.default}:function(){return a};return e.d(t,"a",t),t},e.o=function(a,t){return Object.prototype.hasOwnProperty.call(a,t)},e.p="",e(e.s=0)}([function(a,t,e){"use strict";e.r(t),window.workspace=Blockly.inject("blocklyDiv",{media:"../../media/",toolbox:document.getElementById("toolbox")}),Blockly.Xml.domToWorkspace(window.workspace,document.getElementById("startBlocks"));var l=function(){var a,t;function e(){return void 0!==a}return{Instance:function(){return void 0===a&&(a=new Worker("../../debuggee/bundle.js"),t={alert:a=>{alert(a)},highlightBlock:a=>{window.workspace.traceOn_=!0,window.workspace.highlightBlock(a)},execution_finished:()=>{a=void 0}},a.onmessage=function(a){let e=a.data,l=e.data;t[e.type](l)}),a},Stop:function(){e()&&(a.terminate(),a=void 0)},AddOnDispacher:function(a,e){t[a]=e},hasInstance:e}}(),o={},r={tmp:"$",tmp_count:0};e(4),e(3),e(2);Blockly.JavaScript.math_number=function(a){return[r.tmp+" = "+parseFloat(a.getFieldValue("NUM"))+";\n",Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.math_arithmetic=function(a){var t={ADD:[" + ",Blockly.JavaScript.ORDER_ADDITION],MINUS:[" - ",Blockly.JavaScript.ORDER_SUBTRACTION],MULTIPLY:[" * ",Blockly.JavaScript.ORDER_MULTIPLICATION],DIVIDE:[" / ",Blockly.JavaScript.ORDER_DIVISION],POWER:[null,Blockly.JavaScript.ORDER_COMMA]}[a.getFieldValue("OP")],e=t[0],l=t[1],o=Blockly.JavaScript.valueToCode(a,"A",l)||"0",c=Blockly.JavaScript.valueToCode(a,"B",l)||"0";if(!e){var i=r.tmp+r.tmp_count++,n=r.tmp+r.tmp_count++;return[o+"var "+i+" = "+r.tmp+";\nawait wait();\n"+c+"var "+n+" = "+r.tmp+";\nawait wait();\n"+r.tmp+" = Math.pow("+i+", "+n+");",Blockly.JavaScript.ORDER_FUNCTION_CALL]}i=r.tmp+r.tmp_count++,n=r.tmp+r.tmp_count++;return[o+"var "+i+" = "+r.tmp+";\nawait wait();\n"+c+"var "+n+" = "+r.tmp+";\nawait wait();\n"+r.tmp+" = "+i+e+n+";\n",l]};e(1);Blockly.JavaScript.text=function(a){return[r.tmp+" = "+Blockly.JavaScript.quote_(a.getFieldValue("TEXT"))+";",Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.text_print=function(a){return(Blockly.JavaScript.valueToCode(a,"TEXT",Blockly.JavaScript.ORDER_NONE)||"''")+"window.alert("+r.tmp+");\n"},Blockly.JavaScript.variables_get=function(a){return[r.tmp+" = "+Blockly.JavaScript.variableDB_.getName(a.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE)+";\n",Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.variables_set=function(a){return(Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_ASSIGNMENT)||"0")+Blockly.JavaScript.variableDB_.getName(a.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE)+" = "+r.tmp+";\n"},o.Run=(()=>{if(!l.hasInstance()){Blockly.JavaScript.STATEMENT_PREFIX="";var a=Blockly.JavaScript.workspaceToCode(window.workspace);l.Instance().postMessage({type:"run",data:a})}}),o.StepInto=(()=>{l.hasInstance()&&l.Instance().postMessage({type:"stepInto"})}),o.StepOver=(()=>{l.hasInstance()&&l.Instance().postMessage({type:"stepOver"})}),o.StepOut=(()=>{l.hasInstance()&&l.Instance().postMessage({type:"stepOut"})}),o.Stop=(()=>{l.Stop()}),o.Start=(()=>{if(!l.hasInstance()){Blockly.JavaScript.STATEMENT_PREFIX="highlightBlock(%1);\nawait wait();\n";var a=Blockly.JavaScript.workspaceToCode(window.workspace);l.Instance().postMessage({type:"start_debugging",data:a})}}),document.getElementById("RunButton").onclick=o.Run,document.getElementById("StepIntoButton").onclick=o.StepInto,document.getElementById("StepOverButton").onclick=o.StepOver,document.getElementById("StepOutButton").onclick=o.StepOut,document.getElementById("StopButton").onclick=o.Stop,document.getElementById("StartButton").onclick=o.Start},function(a,t){Blockly.JavaScript.procedures_defreturn=function(a){var t=Blockly.JavaScript.variableDB_.getName(a.getFieldValue("NAME"),Blockly.Procedures.NAME_TYPE),e=Blockly.JavaScript.statementToCode(a,"STACK");Blockly.JavaScript.STATEMENT_PREFIX&&(e=Blockly.JavaScript.prefixLines(Blockly.JavaScript.STATEMENT_PREFIX.replace(/%1/g,"'"+a.id+"'"),Blockly.JavaScript.INDENT)+e),Blockly.JavaScript.INFINITE_LOOP_TRAP&&(e=Blockly.JavaScript.INFINITE_LOOP_TRAP.replace(/%1/g,"'"+a.id+"'")+e);var l=Blockly.JavaScript.valueToCode(a,"RETURN",Blockly.JavaScript.ORDER_NONE)||"";l&&(l="  return "+l+";\n");for(var o=[],r=0;r<a.arguments_.length;r++)o[r]=Blockly.JavaScript.variableDB_.getName(a.arguments_[r],Blockly.Variables.NAME_TYPE);var c="async function "+t+"("+o.join(", ")+") {\n  let local_over = isStepOver();\n  let local_out = isStepOut();\n"+e+"  if(local_out==false) flag_out = false;\n"+l+"}";return c=Blockly.JavaScript.scrub_(a,c),Blockly.JavaScript.definitions_[t]=c,null},Blockly.JavaScript.procedures_defnoreturn=Blockly.JavaScript.procedures_defreturn,Blockly.JavaScript.procedures_callreturn=function(a){for(var t=Blockly.JavaScript.variableDB_.getName(a.getFieldValue("NAME"),Blockly.Procedures.NAME_TYPE),e=[],l=0;l<a.arguments_.length;l++)e[l]=Blockly.JavaScript.valueToCode(a,"ARG"+l,Blockly.JavaScript.ORDER_COMMA)||"null";return["await "+t+"("+e.join(", ")+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]},Blockly.JavaScript.procedures_callnoreturn=function(a){for(var t=Blockly.JavaScript.variableDB_.getName(a.getFieldValue("NAME"),Blockly.Procedures.NAME_TYPE),e=[],l=0;l<a.arguments_.length;l++)e[l]=Blockly.JavaScript.valueToCode(a,"ARG"+l,Blockly.JavaScript.ORDER_COMMA)||"null";return"await "+t+"("+e.join(", ")+");\n"}},function(a,t){Blockly.JavaScript.controls_repeat_ext=function(a){if(a.getField("TIMES"))var t=String(Number(a.getFieldValue("TIMES")));else t=Blockly.JavaScript.valueToCode(a,"TIMES",Blockly.JavaScript.ORDER_ASSIGNMENT)||"0";var e=Blockly.JavaScript.statementToCode(a,"DO");e=Blockly.JavaScript.addLoopTrap(e,a.id);var l="",o=Blockly.JavaScript.variableDB_.getDistinctName("count",Blockly.Variables.NAME_TYPE),r=t;t.match(/^\w+$/)||Blockly.isNumber(t)||(l+="var "+(r=Blockly.JavaScript.variableDB_.getDistinctName("repeat_end",Blockly.Variables.NAME_TYPE))+" = "+t+";\n");return l+="for (var "+o+" = 0; "+o+" < "+r+"; "+o+"++) {\n  let local_over = isStepOver();\n"+e+"}\n"},Blockly.JavaScript.controls_repeat=Blockly.JavaScript.controls_repeat_ext,Blockly.JavaScript.controls_whileUntil=function(a){var t="UNTIL"==a.getFieldValue("MODE"),e=Blockly.JavaScript.valueToCode(a,"BOOL",t?Blockly.JavaScript.ORDER_LOGICAL_NOT:Blockly.JavaScript.ORDER_NONE)||"false",l=Blockly.JavaScript.statementToCode(a,"DO");return l=Blockly.JavaScript.addLoopTrap(l,a.id),t&&(e="!"+e),"while ("+e+") {\n  let local_over = isStepOver();\n"+l+"}\n"},Blockly.JavaScript.controls_for=function(a){var t,e=Blockly.JavaScript.variableDB_.getName(a.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE),l=Blockly.JavaScript.valueToCode(a,"FROM",Blockly.JavaScript.ORDER_ASSIGNMENT)||"0",o=Blockly.JavaScript.valueToCode(a,"TO",Blockly.JavaScript.ORDER_ASSIGNMENT)||"0",r=Blockly.JavaScript.valueToCode(a,"BY",Blockly.JavaScript.ORDER_ASSIGNMENT)||"1",c=Blockly.JavaScript.statementToCode(a,"DO");if(c=Blockly.JavaScript.addLoopTrap(c,a.id),Blockly.isNumber(l)&&Blockly.isNumber(o)&&Blockly.isNumber(r)){var i=parseFloat(l)<=parseFloat(o);t="for ("+e+" = "+l+"; "+e+(i?" <= ":" >= ")+o+"; "+e;var n=Math.abs(parseFloat(r));t+=1==n?i?"++":"--":(i?" += ":" -= ")+n,t+=") {\n  let local_over = isStepOver();\n"+c+"}\n"}else{t="";var p=l;l.match(/^\w+$/)||Blockly.isNumber(l)||(t+="var "+(p=Blockly.JavaScript.variableDB_.getDistinctName(e+"_start",Blockly.Variables.NAME_TYPE))+" = "+l+";\n");var v=o;if(!o.match(/^\w+$/)&&!Blockly.isNumber(o))t+="var "+(v=Blockly.JavaScript.variableDB_.getDistinctName(e+"_end",Blockly.Variables.NAME_TYPE))+" = "+o+";\n";var u=Blockly.JavaScript.variableDB_.getDistinctName(e+"_inc",Blockly.Variables.NAME_TYPE);t+="var "+u+" = ",Blockly.isNumber(r)?t+=Math.abs(r)+";\n":t+="Math.abs("+r+");\n",t+="if ("+p+" > "+v+") {\n",t+=Blockly.JavaScript.INDENT+u+" = -"+u+";\n",t+="}\n",t+="for ("+e+" = "+p+";\n     "+u+" >= 0 ? "+e+" <= "+v+" : "+e+" >= "+v+";\n     "+e+" += "+u+") {\n  let local_over = isStepOver();\n"+c+"}\n"}return t},Blockly.JavaScript.controls_forEach=function(a){var t=Blockly.JavaScript.variableDB_.getName(a.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE),e=Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_ASSIGNMENT)||"[]",l=Blockly.JavaScript.statementToCode(a,"DO");l=Blockly.JavaScript.addLoopTrap(l,a.id);var o="",r=e;e.match(/^\w+$/)||(o+="var "+(r=Blockly.JavaScript.variableDB_.getDistinctName(t+"_list",Blockly.Variables.NAME_TYPE))+" = "+e+";\n");var c=Blockly.JavaScript.variableDB_.getDistinctName(t+"_index",Blockly.Variables.NAME_TYPE);return o+="for (var "+c+" in "+r+") {\n  let local_over = isStepOver();\n"+(l=Blockly.JavaScript.INDENT+t+" = "+r+"["+c+"];\n"+l)+"}\n"}},function(a,t){Blockly.JavaScript.controls_if=function(a){var t=0,e=Blockly.JavaScript.valueToCode(a,"IF"+t,Blockly.JavaScript.ORDER_NONE)||"false",l=Blockly.JavaScript.statementToCode(a,"DO"+t),o="if ("+e+") {\n  let local_over = isStepOver();\n"+l+"}";for(t=1;t<=a.elseifCount_;t++)o+=" else if ("+(e=Blockly.JavaScript.valueToCode(a,"IF"+t,Blockly.JavaScript.ORDER_NONE)||"false")+") {\n  let local_over = isStepOver();\n"+(l=Blockly.JavaScript.statementToCode(a,"DO"+t))+"}";return a.elseCount_&&(o+=" else {\n  let local_over = isStepOver();\n"+(l=Blockly.JavaScript.statementToCode(a,"ELSE"))+"}"),o+"\n"}},function(a,t){Blockly.Generator.prototype.valueToCode=function(a,t,e){isNaN(e)&&goog.asserts.fail('Expecting valid order from block "%s".',a.type);var l=a.getInputTargetBlock(t);if(!l)return"";var o=this.blockToCode(l);if(""===o)return"";goog.asserts.assertArray(o,'Expecting tuple from value block "%s".',l.type);var r=o[0],c=o[1];return isNaN(c)&&goog.asserts.fail('Expecting valid order from value block "%s".',l.type),r&&e<=c&&(e!=c||0!=e&&99!=e)&&5!=e&&6!=e&&(r="("+r+")"),r}}]);
//# sourceMappingURL=bundle.js.map