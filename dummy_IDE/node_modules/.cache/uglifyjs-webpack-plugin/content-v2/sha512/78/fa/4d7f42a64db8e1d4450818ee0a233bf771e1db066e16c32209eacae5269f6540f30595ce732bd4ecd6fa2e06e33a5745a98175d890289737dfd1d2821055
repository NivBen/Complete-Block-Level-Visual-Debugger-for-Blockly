{"map":"{\"version\":3,\"sources\":[\"webpack/bootstrap\",\"C:\\\\Users\\\\Krystallia Savvaki\\\\Desktop\\\\blockly_debugger\\\\debuggee\\\\init.js\",\"C:\\\\Users\\\\Krystallia Savvaki\\\\Desktop\\\\blockly_debugger\\\\debuggee\\\\debuggee.js\"],\"names\":[\"installedModules\",\"__webpack_require__\",\"moduleId\",\"exports\",\"module\",\"i\",\"l\",\"modules\",\"call\",\"m\",\"c\",\"d\",\"name\",\"getter\",\"o\",\"Object\",\"defineProperty\",\"configurable\",\"enumerable\",\"get\",\"r\",\"value\",\"n\",\"__esModule\",\"object\",\"property\",\"prototype\",\"hasOwnProperty\",\"p\",\"s\",\"Blockly_debuggee\",\"actions\",\"state\",\"currNest\",\"currId\",\"promptMsg\",\"undefined\",\"stepWait\",\"currState\",\"stepIn\",\"stepOver\",\"stepParent\",\"stepOut\",\"continue\",\"isState\",\"setState\",\"new_state\",\"this\",\"wait\",\"next_message\",\"ms\",\"Promise\",\"resolve\",\"setTimeout\",\"async\",\"nest\",\"block_id\",\"CurrentSystemEditorId\",\"id\",\"postMessage\",\"type\",\"data\",\"highlightBlock\",\"hasBreakpoint\",\"dispatcher\",\"start\",\"handler\",\"breakpoint\",\"prompt\",\"flags\",\"onmessage\",\"msg\",\"console\",\"log\",\"obj\"],\"mappings\":\"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\",\"sourcesContent\":[\" \\t// The module cache\\n \\tvar installedModules = {};\\n\\n \\t// The require function\\n \\tfunction __webpack_require__(moduleId) {\\n\\n \\t\\t// Check if module is in cache\\n \\t\\tif(installedModules[moduleId]) {\\n \\t\\t\\treturn installedModules[moduleId].exports;\\n \\t\\t}\\n \\t\\t// Create a new module (and put it into the cache)\\n \\t\\tvar module = installedModules[moduleId] = {\\n \\t\\t\\ti: moduleId,\\n \\t\\t\\tl: false,\\n \\t\\t\\texports: {}\\n \\t\\t};\\n\\n \\t\\t// Execute the module function\\n \\t\\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\\n\\n \\t\\t// Flag the module as loaded\\n \\t\\tmodule.l = true;\\n\\n \\t\\t// Return the exports of the module\\n \\t\\treturn module.exports;\\n \\t}\\n\\n\\n \\t// expose the modules object (__webpack_modules__)\\n \\t__webpack_require__.m = modules;\\n\\n \\t// expose the module cache\\n \\t__webpack_require__.c = installedModules;\\n\\n \\t// define getter function for harmony exports\\n \\t__webpack_require__.d = function(exports, name, getter) {\\n \\t\\tif(!__webpack_require__.o(exports, name)) {\\n \\t\\t\\tObject.defineProperty(exports, name, {\\n \\t\\t\\t\\tconfigurable: false,\\n \\t\\t\\t\\tenumerable: true,\\n \\t\\t\\t\\tget: getter\\n \\t\\t\\t});\\n \\t\\t}\\n \\t};\\n\\n \\t// define __esModule on exports\\n \\t__webpack_require__.r = function(exports) {\\n \\t\\tObject.defineProperty(exports, '__esModule', { value: true });\\n \\t};\\n\\n \\t// getDefaultExport function for compatibility with non-harmony modules\\n \\t__webpack_require__.n = function(module) {\\n \\t\\tvar getter = module && module.__esModule ?\\n \\t\\t\\tfunction getDefault() { return module['default']; } :\\n \\t\\t\\tfunction getModuleExports() { return module; };\\n \\t\\t__webpack_require__.d(getter, 'a', getter);\\n \\t\\treturn getter;\\n \\t};\\n\\n \\t// Object.prototype.hasOwnProperty.call\\n \\t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\\n\\n \\t// __webpack_public_path__\\n \\t__webpack_require__.p = \\\"\\\";\\n\\n\\n \\t// Load entry module and return exports\\n \\treturn __webpack_require__(__webpack_require__.s = 0);\\n\",\"\\r\\n// export var actions = {\\r\\n//   prompt : (promptMsg) => {\\r\\n//     flags.promptMsg = promptMsg;\\r\\n//   }\\r\\n// };\\r\\n\\r\\n// export var flags = {\\r\\n//   currNest : 0,\\r\\n//   currId : '',\\r\\n//   promptMsg : undefined,\\r\\n//   stepWait : false,\\r\\n//   in : false, \\r\\n//   over : false,\\r\\n//   parent : false,\\r\\n//   out : false,\\r\\n//   continue: true,\\r\\n//   setTrue : (true_flag) =>{\\r\\n//     flags.in = false;\\r\\n//     flags.over = false;\\r\\n//     flags.out = false;\\r\\n//     flags.parent = false;\\r\\n//     flags.continue = false;\\r\\n//     flags[true_flag] = true;\\r\\n//   }\\r\\n// };\\r\\n\\r\\n// -------------------------------------\\r\\n\\r\\nexport var window = {\\r\\n    alert : function(msg) {\\r\\n      postMessage({\\\"type\\\": \\\"alert\\\", \\\"data\\\" : msg});\\r\\n    },\\r\\n    prompt : async function (msg){\\r\\n      postMessage({\\\"type\\\": \\\"prompt\\\", \\\"data\\\" : msg});\\r\\n      while(flags.promptMsg == undefined){\\r\\n        await next_message();\\r\\n      }\\r\\n      var tmp = flags.promptMsg;\\r\\n      flags.promptMsg = undefined;\\r\\n      return tmp;\\r\\n    }\\r\\n} ;  \\r\\n\\r\\nexport var Blockly_debuggee = {};\\r\\nBlockly_debuggee.actions = {};\\r\\n\\r\\nBlockly_debuggee.state = {\\r\\n  currNest : 0,\\r\\n  currId : '',\\r\\n  promptMsg : undefined,\\r\\n  stepWait : false,\\r\\n  currState: {\\r\\n    stepIn : false,\\r\\n    stepOver : false,\\r\\n    stepParent : false,\\r\\n    stepOut : false,\\r\\n    continue : true \\r\\n  },\\r\\n  isState: () => {// function(state) {\\r\\n    //return Blockly_debuggee.state.currState[state];   //Blockly_debuggee.state.currState\\r\\n    return this.currState[state];\\r\\n  },\\r\\n  setState: function(new_state) {\\r\\n    this.currState[\\\"stepIn\\\"] = false;\\r\\n    this.currState[\\\"stepOver\\\"] = false;\\r\\n    this.currState[\\\"stepParent\\\"] = false;\\r\\n    this.currState[\\\"stepOut\\\"] = false;\\r\\n    this.currState[\\\"continue\\\"] = false;\\r\\n    this.currState[new_state] = true;\\r\\n  }\\r\\n};\\r\\n\\r\\n\\r\\nBlockly_debuggee.wait = (function(){\\r\\n  function highlightBlock(id, CurrentSystemEditorId){\\r\\n    postMessage({\\\"type\\\": \\\"highlightBlock\\\", \\\"data\\\" : {\\\"id\\\" : id, \\\"CurrentSystemEditorId\\\" : CurrentSystemEditorId}});\\r\\n  }\\r\\n\\r\\n  function sleep(ms) {\\r\\n    return new Promise(resolve => setTimeout(resolve, ms));\\r\\n  }\\r\\n  \\r\\n  function next_message() { \\r\\n    return sleep(0); \\r\\n  }\\r\\n\\r\\n  async function wait(nest, block_id, CurrentSystemEditorId){\\r\\n    highlightBlock(block_id, CurrentSystemEditorId);\\r\\n    //if(isContinue() && !hasBreakpoint(block_id)) {\\r\\n    if(Blockly_debuggee.state.isState(\\\"continue\\\") && !hasBreakpoint(block_id)){     //\\r\\n      return;\\r\\n    }\\r\\n    if(Blockly_debuggee.state.currNest == -1) return;    // stepOver + stepOut for functions                   \\r\\n    //if(isStepIn() || isContinue() || nest <= flags.currNest){\\r\\n      if(Blockly_debuggee.state.isState(\\\"stepIn\\\") || Blockly_debuggee.state.isState(\\\"continue\\\") || nest <= Blockly_debuggee.state.currNest){\\r\\n        if(Blockly_debuggee.state.currId  === block_id && !Blockly_debuggee.state.isState(\\\"continue\\\")) return;\\r\\n        if(Blockly_debuggee.state.isState(\\\"stepParent\\\") && nest == Blockly_debuggee.state.currNest) return;\\r\\n        while(!Blockly_debuggee.state.stepWait){\\r\\n            await next_message();\\r\\n        }\\r\\n        Blockly_debuggee.state.stepWait = false;\\r\\n        Blockly_debuggee.state.currId = block_id;\\r\\n        if(Blockly_debuggee.state.isState(\\\"stepOut\\\")){\\r\\n            Blockly_debuggee.state.currNest = -1;\\r\\n            Blockly_debuggee.state.currState.stepOut = false;                                  \\r\\n        }else{\\r\\n            Blockly_debuggee.state.currNest = nest;\\r\\n        }       \\r\\n    }\\r\\n  };\\r\\n\\r\\n  return wait;  \\r\\n})();\\r\\n\\r\\nexport var dispatcher = {\\r\\n  start: Blockly_debuggee.actions[\\\"start\\\"].handler,\\r\\n  stepIn : Blockly_debuggee.actions[\\\"stepIn\\\"].handler,\\r\\n  stepOver: Blockly_debuggee.actions[\\\"stepOver\\\"].handler,\\r\\n  stepOut: Blockly_debuggee.actions[\\\"stepOut\\\"].handler,\\r\\n  stepParent: Blockly_debuggee.actions[\\\"stepParent\\\"].handler,\\r\\n  breakpoint: Blockly_debuggee.actions[\\\"breakpoint\\\"].handler,\\r\\n  continue: Blockly_debuggee.actions[\\\"continue\\\"].handler,\\r\\n  prompt : (promptMsg) => {\\r\\n    flags.promptMsg = promptMsg;\\r\\n  }\\r\\n};\\r\\n\\r\\n\\r\\n\\r\\n\",\"import \\\"./init.js\\\";\\r\\nimport {dispatcher} from \\\"./init.js\\\";\\r\\n//import './actions/actions.js';\\r\\n\\r\\nonmessage = function (msg) {\\r\\n    console.log(\\\"!!!!!!!!!!!!!!!!!!!!!!!!!\\\");\\r\\n    let obj = msg.data;\\r\\n    dispatcher[obj.type](obj.data);\\r\\n}\"]}","code":"!function(t){var e={};function r(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=e,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:s})},r.r=function(t){Object.defineProperty(t,\"__esModule\",{value:!0})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,\"a\",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p=\"\",r(r.s=0)}([function(t,e,r){\"use strict\";r.r(e);var s={actions:{}};s.state={currNest:0,currId:\"\",promptMsg:void 0,stepWait:!1,currState:{stepIn:!1,stepOver:!1,stepParent:!1,stepOut:!1,continue:!0},isState:()=>(void 0).currState[state],setState:function(t){this.currState.stepIn=!1,this.currState.stepOver=!1,this.currState.stepParent=!1,this.currState.stepOut=!1,this.currState.continue=!1,this.currState[t]=!0}},s.wait=function(){function t(){return t=0,new Promise(e=>setTimeout(e,t));var t}return async function(e,r,n){if(function(t,e){postMessage({type:\"highlightBlock\",data:{id:t,CurrentSystemEditorId:e}})}(r,n),(!s.state.isState(\"continue\")||hasBreakpoint(r))&&-1!=s.state.currNest&&(s.state.isState(\"stepIn\")||s.state.isState(\"continue\")||e<=s.state.currNest)){if(s.state.currId===r&&!s.state.isState(\"continue\"))return;if(s.state.isState(\"stepParent\")&&e==s.state.currNest)return;for(;!s.state.stepWait;)await t();s.state.stepWait=!1,s.state.currId=r,s.state.isState(\"stepOut\")?(s.state.currNest=-1,s.state.currState.stepOut=!1):s.state.currNest=e}}}();var n={start:s.actions.start.handler,stepIn:s.actions.stepIn.handler,stepOver:s.actions.stepOver.handler,stepOut:s.actions.stepOut.handler,stepParent:s.actions.stepParent.handler,breakpoint:s.actions.breakpoint.handler,continue:s.actions.continue.handler,prompt:t=>{flags.promptMsg=t}};onmessage=function(t){console.log(\"!!!!!!!!!!!!!!!!!!!!!!!!!\");let e=t.data;n[e.type](e.data)}}]);","extractedComments":[]}